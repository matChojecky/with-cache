"use strict";function e(e,n,t,o){return new(t||(t=Promise))((function(i,r){function u(e){try{a(o.next(e))}catch(e){r(e)}}function c(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,c)}a((o=o.apply(e,n||[])).next())}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.withCache=function(n,t){const o=new Map,{validFor:i=144e5,keyGen:r}=null!=t?t:{},u=r||(()=>"res");return(...t)=>e(this,void 0,void 0,(function*(){const e=u(...t),r=o.get(e);if(r&&(e=>Date.now()<=e)(r.validTo))return r.value;const c=yield n(...t),a=Date.now()+i;return o.set(e,{value:c,validTo:a}),c}))};
